import{_ as s,c as n,a3 as e,o as i}from"./chunks/framework.BOyF8YV7.js";const h=JSON.parse('{"title":"ICMP协议详解：ping命令及数据包分析","description":"ICMP (互联网控制报文协议)是TCP/IP协议簇的子协议，用于检测网络连接状态。本文通过ping命令发送和接收ICMP数据包，分析数据包结构，包括数据包类型、源地址、目的地址、ID、序列号等信息，并解释了Echo请求和Echo应答的过程。","frontmatter":{"head":[["link",{"rel":"canonical","href":"https://blog.ranchulin.com/t/网络编程/ICMP.html"}],["meta",{"property":"og:title","title":"ICMP协议详解：ping命令及数据包分析"}],["meta",{"property":"og:url","content":"https://blog.ranchulin.com/t/网络编程/ICMP.html"}],["meta",{"name":"keywords","content":"ICMP,互联网控制报文协议,ping,TCP/IP,网络连接状态,数据包,Wireshark,IPv4,MAC地址,Echo request,Echo reply"}]]},"headers":[],"relativePath":"t/网络编程/ICMP.md","filePath":"t/网络编程/ICMP.md","lastUpdated":1736299776000}'),l={name:"t/网络编程/ICMP.md"};function p(t,a,r,c,d,o){return i(),n("div",null,a[0]||(a[0]=[e(`<h2 id="icmp-协议" tabindex="-1">ICMP 协议 <a class="header-anchor" href="#icmp-协议" aria-label="Permalink to &quot;ICMP 协议&quot;">​</a></h2><blockquote><p>ICMP（Internal Control Message Protocol）互联网控制报文协议，TCP/IP 协议簇的一个子协议。对网络连接状态进行判断。</p></blockquote><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 发送一个数据包，方便Wireshark抓包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ping</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> www.sourcedev.cc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="发送数据包" tabindex="-1">发送数据包 <a class="header-anchor" href="#发送数据包" aria-label="Permalink to &quot;发送数据包&quot;">​</a></h3><ul><li>type == 0x8 ping</li></ul><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>795	35.295594	192.168.3.11	42.192.78.57	ICMP	98	Echo (ping) request  id=0xfb81, seq=0/0, ttl=64 (reply in 796)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>0000   82 11 8f 51 9e 64 a4 5e 60 f2 a0 49 08 00 45 00   ...Q.d.^\`..I..E.</span></span>
<span class="line"><span>0010   00 54 73 50 00 00 40 01 ca ac c0 a8 03 0b 2a c0   .TsP..@.......*.</span></span>
<span class="line"><span>0020   4e 39 08 00 06 dd fb 81 00 00 60 ea 4c ee 00 0e   N9........\`.L...</span></span>
<span class="line"><span>0030   5c b7 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15   \\...............</span></span>
<span class="line"><span>0040   16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25   .......... !&quot;#$%</span></span>
<span class="line"><span>0050   26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35   &amp;&#39;()*+,-./012345</span></span>
<span class="line"><span>0060   36 37                                             67</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>Destination: 82:11:8f:51:9e:64 (82:11:8f:51:9e:64)</li><li>Source: Apple_f2:a0:49 (a4:5e:60:f2:a0:49) <ul><li>本机 MAC 地址</li></ul></li><li>Type: IPv4 (0x0800)</li></ul><h3 id="响应" tabindex="-1">响应 <a class="header-anchor" href="#响应" aria-label="Permalink to &quot;响应&quot;">​</a></h3><ul><li>type == 0 reply 应答</li></ul><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>796	35.335367	42.192.78.57	192.168.3.11	ICMP	98	Echo (ping) reply    id=0xfb81, seq=0/0, ttl=56 (request in 795)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>0000   a4 5e 60 f2 a0 49 82 11 8f 51 9e 64 08 00 45 74   .^\`..I...Q.d..Et</span></span>
<span class="line"><span>0010   00 54 16 b8 00 00 38 01 2e d1 2a c0 4e 39 c0 a8   .T....8...*.N9..</span></span>
<span class="line"><span>0020   03 0b 00 00 0e dd fb 81 00 00 60 ea 4c ee 00 0e   ..........\`.L...</span></span>
<span class="line"><span>0030   5c b7 08 09 0a 0b 0c 0d 0e 0f 10 11 12 13 14 15   \\...............</span></span>
<span class="line"><span>0040   16 17 18 19 1a 1b 1c 1d 1e 1f 20 21 22 23 24 25   .......... !&quot;#$%</span></span>
<span class="line"><span>0050   26 27 28 29 2a 2b 2c 2d 2e 2f 30 31 32 33 34 35   &amp;&#39;()*+,-./012345</span></span>
<span class="line"><span>0060   36 37                                             67</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><ul><li>data 发送什么数据，应答什么数据，0x08 ~ 0x37，数据包固定长度 98 个字节</li><li>id 随机，序列号重置，从 0 开始</li></ul><h3 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-label="Permalink to &quot;参考资料&quot;">​</a></h3><ol><li><a href="https://zh.wikipedia.org/wiki/%E4%BA%92%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E6%B6%88%E6%81%AF%E5%8D%8F%E8%AE%AE" target="_blank" rel="nofollow noopener noreferrer">互联网控制消息协议</a></li></ol>`,16)]))}const u=s(l,[["render",p]]);export{h as __pageData,u as default};
